import{S as y,i as r,a as b}from"./assets/vendor-eacb4d5c.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}})();const h=document.querySelector(".search-form"),n=document.querySelector(".gallery"),d=document.querySelector(".load-more"),g=new y(".gallery a",{captionsData:"alt",captionDelay:250});let l=1,m="";n.innerHTML="";h.addEventListener("submit",w);d.addEventListener("click",S);async function w(s){if(l=1,m=h.elements.searchText.value.trim(),r.destroy(),m===""){alert("Search form can't be empty, enter there some text for images search.");return}else{s.preventDefault(),n.innerHTML="",d.classList.add("hidden");try{const e=await f();Array.from(e.data.hits).length===0?r.show({title:"Error",message:"Sorry, there are no images matching your search query. Please try again.",close:!1,backgroundColor:"red",messageColor:"white",messageSize:20,timeout:2e3,position:"topRight"}):Array.from(e.data.hits).length<40?(n.insertAdjacentHTML("beforeend",u(e.data.hits)),g.refresh(),r.show({message:`Hooray! We found ${e.data.totalHits} images.`,close:!1,backgroundColor:"green",messageColor:"white",messageSize:20,timeout:2e3,position:"topRight"})):(d.classList.remove("hidden"),n.insertAdjacentHTML("beforeend",u(e.data.hits)),g.refresh(),r.show({message:`Hooray! We found ${e.data.totalHits} images.`,close:!1,backgroundColor:"green",messageColor:"white",messageSize:20,timeout:2e3,position:"topRight"}))}catch{r.show({message:"Something goes wrong, please try reload page.",close:!1,backgroundColor:"red",messageColor:"white",messageSize:20,timeout:0,position:"topRight"})}}}async function S(){l+=1,r.destroy();try{const s=await f(l);(l+1)*40>=s.data.totalHits&&(d.classList.add("hidden"),r.show({message:`End of the collection of "${m}" exceeded.`,close:!1,backgroundColor:"red",messageColor:"white",messageSize:20,timeout:2e3,position:"topRight"})),n.insertAdjacentHTML("beforeend",u(s.data.hits)),g.refresh();const e=document.querySelector(".photo-card");console.log(e);const a=e.getBoundingClientRect();console.log(a),window.scrollBy({top:a.height*2+24,behavior:"smooth"})}catch{r.show({title:"Error",message:"Something goes wrong, please try reload page.",close:!1,backgroundColor:"red",messageColor:"white",messageSize:20,timeout:0,position:"topRight"})}}async function f(s=1){const e={params:{key:"40858721-2ab2962236a746e97c71283b6",q:m,image_type:"photo",orientation:"horizontal",safesearch:!0,page:s,per_page:40}};return await b.get("https://pixabay.com/api/",e)}function u(s){return s.map(({webformatURL:e,tags:a,likes:c,views:t,comments:o,downloads:i,largeImageURL:p})=>`<div class="photo-card">
        <a href="${p}">
      <img class="item-image" src="${e}" alt="${a}" width="400" height="240" loading="lazy" />
      </a>
      <div class="info"><p class="info-item"><b>Likes</b><br>${c}</p>
      <p class="info-item"><b>Views</b><br>${t}</p>
      <p class="info-item"><b>Comments</b><br>${o}</p>
      <p class="info-item"><b>Downloads</b><br>${i}</p></div></div>`).join("")}
//# sourceMappingURL=commonHelpers.js.map
